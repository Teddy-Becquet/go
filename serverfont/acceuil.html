<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accueil</title>
    <style>
        /* Style général */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }

        /* Navigation */
        nav {
            background-color: #333;
            color: #fff;
            padding: 10px 0;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        nav ul li {
            display: inline;
            margin: 0 15px;
        }

        nav ul li a {
            color: #fff;
            text-decoration: none;
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav ul li a:hover {
            background-color: #575757;
        }

        /* Titre principal */
        h1 {
            text-align: center;
            color: #444;
            margin-top: 20px;
            font-size: 2.5em;
        }

        /* Paragraphes */
        p {
            margin: 20px auto;
            max-width: 800px;
            text-align: justify;
            line-height: 1.8;
        }

        /* Listes */
        ul {
            margin: 20px auto;
            max-width: 800px;
            padding-left: 20px;
        }

        ul li {
            margin-bottom: 10px;
        }

        /* Bouton de déconnexion */
        button#logout {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button#logout:hover {
            background-color: #575757;
        }

        /* Pied de page */
        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 20px 0;
            margin-top: 30px;
        }

        footer p {
            margin: 5px 0;
        }

        footer a {
            color: #1e90ff;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #63b8ff;
        }

        /* Liens dans le pied de page */
        footer a {
            margin: 0 5px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <center>
        <nav>
            <ul>
                <li><a href="acceuil.html">Accueil</a></li>
                <li><a href="classement.html">Classement</a></li>
                <li><a href="vainqueur.html">Utilisateurs</a></li>
            </ul>
        </nav>
    </center>
    
    <h1>Bienvenue sur la page d'accueil</h1>
    <p>
        <strong>Bienvenue sur notre plateforme de classement !</strong> Cette plateforme a été conçue pour offrir une solution complète 
        et innovante aux utilisateurs souhaitant suivre leurs performances et celles des autres. Que vous soyez un amateur ou un professionnel, 
        notre outil s'adapte à vos besoins pour vous fournir des données précises et exploitables.
    </p>
    <p>
        Ce projet a été développé pour répondre aux besoins des utilisateurs souhaitant suivre et comparer leurs performances de manière simple et efficace. 
        Grâce à une interface intuitive et moderne, vous pouvez :
    </p>
    <ul>
        <li>Consulter les classements en temps réel, avec des mises à jour automatiques pour refléter les dernières performances.</li>
        <li>Analyser les données de performance à l'aide de graphiques interactifs et de tableaux détaillés.</li>
        <li>Explorer des statistiques approfondies pour identifier les tendances et les opportunités d'amélioration.</li>
        <li>Personnaliser vos préférences pour afficher les informations les plus pertinentes pour vous.</li>
    </ul>
    <p>
        Notre objectif est de fournir un <strong>outil puissant et accessible</strong> qui vous permet de rester informé et de progresser dans vos activités. 
        Que vous soyez un utilisateur individuel cherchant à améliorer vos performances personnelles ou une organisation souhaitant suivre les résultats de votre équipe, 
        cette plateforme est conçue pour s'adapter à vos besoins spécifiques.
    </p>
    <p>
        En plus des fonctionnalités de classement, notre plateforme offre également des options de collaboration et de partage. Vous pouvez :
    </p>
    <ul>
        <li>Créer des groupes pour comparer les performances entre amis, collègues ou membres d'une communauté.</li>
        <li>Partager vos résultats sur les réseaux sociaux pour célébrer vos succès.</li>
        <li>Recevoir des notifications personnalisées pour rester informé des mises à jour importantes.</li>
    </ul>
    <p>
        N'hésitez pas à explorer les différentes sections du site pour découvrir tout ce que notre plateforme a à offrir :
    </p>
    <ul>
        <li><strong>Classement :</strong> Pour voir les performances globales et suivre les meilleurs scores.</li>
        <li><strong>Utilisateurs :</strong> Pour en savoir plus sur les membres de la communauté et leurs réalisations.</li>
        <li><strong>Statistiques :</strong> Pour accéder à des analyses détaillées et des rapports personnalisés.</li>
    </ul>
    <p>
        Nous espérons que vous apprécierez votre expérience sur notre plateforme et que vous trouverez les outils nécessaires pour atteindre vos objectifs. 
        Si vous avez des questions ou des suggestions, n'hésitez pas à nous contacter. Bonne exploration !
    </p>

    <p><center>Si vous en avez marre  <i><b>déconnectez-vous</b></i>. <i><b>Au revoir</b></i> à la prochaine !</center></p>

    <button id="logout" src="connexion.html">Déconnexion</button>

    <!-- Pied de page -->
    <footer>
        <center>
            <p>Suivez-nous sur : 
                <a href="https://facebook.com" target="_blank">Facebook</a> | 
                <a href="https://tiktok.com" target="_blank">Tiktok</a> | 
                <a href="https://instagram.com" target="_blank">Instagram</a>
            </p>
            <p>Contactez-nous : 
                <a href="mailto:tbecquet@la-providence.net">tbecquet@la-providence.net</a>
            </p>   
            <p>&copy; 2025 Plateforme de Classement. Tous les droits nous sont réservés.</p>
        </center>       
    </footer>

    <script>
        // Fonction pour récupérer et afficher le classement
        async function fetchStandings() {
            try {
                const response = await fetch('http://localhost:9100/classement', {
                    headers: {
                        'Content-Type': 'application/json', // Indique que le contenu est au format JSON
                        'Accept': 'application/json', // Indique que la réponse attendue est au format JSON
                        'Authorization': `Bearer ${getCookie('token')}` // Ajoute le token d'authentification si nécessaire
                    }
                });

                if (!response.ok) {
                    throw new Error(`Erreur HTTP : ${response.status}`);
                }

                const standings = await response.json();
                console.log(standings);

                // Afficher le classement dans la console ou sur la page
                const standingsContainer = document.getElementById('standings');
                standingsContainer.innerHTML = ''; // Réinitialiser le contenu

                standings.forEach(team => {
                    const teamElement = document.createElement('div');
                    teamElement.textContent = `${team.nom} - Points : ${team.points}`;
                    standingsContainer.appendChild(teamElement);
                });
            } catch (error) {
                console.error('Erreur lors de la récupération du classement :', error);
            }
        }

        // Fonction utilitaire pour récupérer un cookie par son nom
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        document.getElementById('logout').addEventListener('click', () => {
            // Supprimer le cookie 'token' en définissant une date d'expiration passée
            document.cookie = "token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; Secure; SameSite=Strict";

            // Afficher un message de confirmation avant la redirection
            alert('Vous avez été déconnecté avec succès.');

            // Rediriger l'utilisateur vers la page de connexion
            window.location.href = 'connexion.html';
        });

        // Appeler la fonction fetchStandings au chargement de la page
        document.addEventListener('DOMContentLoaded', fetchStandings);
    </script>
</body>
</html>